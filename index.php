<?php
// Start a session
session_start();
?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- InstanceBegin template="/Templates/MasterTemplate.dwt.php" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Mediation Training</title>
<meta NAME="description" CONTENT="The National Mediation Training Registry provides mediation training, mediation jobs, and mediation career information for mediators and people seeking to enter the mediation industry. Mediation trainers may register for free.">
<meta NAME="keywords" CONTENT="mediation training,National Mediation Training Registry,mediation jobs">
<!-- InstanceEndEditable -->
<link href="/mediationtraining.css" rel="stylesheet" type="text/css">
<SCRIPT language="JavaScript" src="/milonic/milonic_src.js" type="text/javascript"></SCRIPT>
<script language="JavaScript" type="text/javascript">
if(ns4)_d.write("<scr"+"ipt language='JavaScript' src='/milonic/mmenuns4.js'><\/scr"+"ipt>");
else _d.write("<scr"+"ipt language='JavaScript' src='/milonic/mmenudom.js'><\/scr"+"ipt>"); </script>
<SCRIPT language='JavaScript' src="/milonic/menu_data.js" type='text/javascript'></SCRIPT>
<link rel="shortcut icon" href="/favicon.ico">
<!-- InstanceBeginEditable name="head" -->
<script language="JavaScript" src="/scripts/windowpops.js" type="text/javascript"></script>
<script language="javascript" type="text/javascript" src="/scripts/stickynote-home.js"></script>
<!-- 
See: http://www.dynamicdrive.com/dynamicindex17/animatedcollapse.htm for documentation on animated, collapsible divs.
Animated Collapsible DIV v2.4- (c) Dynamic Drive DHTML code library (www.dynamicdrive.com)
-->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="/scripts/animatedcollapse.js"></script>
<!-- Start: The following javascripts pertain to Trio Solutions's glossary and image preview -->
<link href='TSScript/TSContainer.css' rel='stylesheet' type='text/css'>
<link rel='stylesheet' type='text/css' href='TSScript/TSGlossary/TSGlossary.css' />
<script language='JavaScript' type='text/javascript' src='TSScript/yahoo.js'></script>
<script language='JavaScript' type='text/javascript' src='TSScript/event.js'></script>
<script language='JavaScript' type='text/javascript' src='TSScript/dom.js'></script>
<script language='JavaScript' type='text/javascript' src='TSScript/dragdrop.js'></script>
<script language='JavaScript' type='text/javascript' src='TSScript/animation.js'></script>
<script language='JavaScript' type='text/javascript' src='TSScript/container.js'></script>
<script language='JavaScript' type='text/javascript' src='TSScript/TSPreviewImage/TSPreviewImage.js'></script>
<link rel='stylesheet' type='text/css' href='TSScript/TSGlossary/TSGlossary.css' />
<script language='JavaScript' type='text/javascript' src='TSScript/TSGlossary/TSGlossary.js'></script>
<!-- End: Trio Solutions's glossary and image preview -->
<?php
echo '<script type="text/javascript">';
$statesArray = array(array('Alabama','AL'),	array('Alaska','AK'), array('Arizona','AZ'), array('Arkansas','AR'),	array('California','CA'), array('Colorado','CO'), array('Connecticut','CT'), array('Delaware','DE'), array('District of Columbia','DC'), array('Florida','FL'), array('Georgia','GA'), array('Hawaii','HI'), array('Idaho','ID'), array('Illinois','IL'), array('Indiana','IN'), array('Iowa','IA'), array('Kansas','KS'), array('Kentucky','KY'), array('Louisiana','LA'), array('Maine','ME'), array('Maryland','MD'), array('Massachusetts','MA'), array('Michigan','MI'), array('Minnesota','MN'), array('Mississippi','MS'), array('Missouri','MO'), array('Montana','MT'), array('Nebraska','NE'), array('Nevada','NV'), array('New Hampshire','NH'), array('New Jersey','NJ'), array('New Mexico','NM'), array('New York','NY'), array('North Carolina','NC'), array('North Dakota','ND'), array('Ohio','OH'), array('Oklahoma','OK'), array('Oregon','OR'), array('Pennsylvania','PA'), array('Rhode Island','RI'), array('South Carolina','SC'), array('South Dakota','SD'), array('Tennessee','TN'), array('Texas','TX'), array('Utah','UT'), array('Vermont','VT'), array('Virginia','VA'), array('Washington','WA'), array('West Virginia','WV'), array('Wisconsin','WI'), array('Wyoming','WY'));
for ($i=0; $i<51; $i++)
	{
?>
animatedcollapse.addDiv('<?=$statesArray[$i][1]; ?>', 'fade=0,group=trainers,hide=1')
<?php
	}
?>
animatedcollapse.init()
</script>
<!-- InstanceEndEditable -->
</head>

<body>
<div id="main">
<div id="relwrapper">
<!-- InstanceBeginEditable name="Content" -->
<div id="spacefillerforQSbar"></div> <!-- Only include this spacefillerforQSbar on pages where I show the Quick-Search Bar. -->

<div style="margin-right: 150px;"><!-- Create div to make body text narrower in order to create 150px of space for rightbar. -->
<h1>Mediation Training</h1>

<div class="indent">
<p>As mediation continues to expand, the need for mediation training increases accordingly. To this end, the <strong>National Mediation Training Registry</strong> has emerged as the largest online repository of mediation trainers. But more than a directory of mediation trainers, the Registry is also a self-managed calendar of the latest mediation training events featuring <a href="/trainingnotify.php" onClick="poptasticDIY('/trainingnotify.php', 320, 700, 250, 250, 300, 300, 'no'); return false;">smart notifications</a> for mediation trainees.</p>

<p>The National Mediation Training Registry addresses five main user groups as well as, of course, the mediation trainers who serve them:</p>

<ul class="bullet">
<li>Experienced attorneys, therapists, and social workers looking to extend their scope of practice into mediation.</li>
<li>Established dispute resolution professionals in search of advanced training.</li>
<li>Managers and human resource professionals with responsibility for managing and developing people.</li>
<li>Private individuals curious to acquire new skills for use in their personal or professional lives.</li>
<li>Career changers seeking to enter the dynamic field of mediation.</li>
</ul>

<p>Whatever your background or interest in mediation, use the Registry to locate <a href="powersearch.php">mediation trainers</a> in your area and keep informed of upcoming <a href="/mediationtraining.php">mediation training</a> events. You can even register to receive priority notification via email when local trainers add new mediation training events. (Your email address remains strictly private and will never be shared with anyone.) In addition, you can <a href="/simplesearch.php">search</a> the Registry for online classes open to trainees worldwide regardless of geography.</p>

<p>Conflict is ubiquitous. There is no shortage of opportunities to apply your mediator skills &mdash; within the family, among friends, in the workplace, and in community mediation programs. But if you&rsquo;re interested in working as a professional mediator, be sure to visit our <a href="/mediationjobs.php">mediation jobs</a> page (updated daily) and <a href="/mediationcareers.php">private-practice mediator</a> recommendations to learn more about mediation career opportunities.</p>
<a name="training-start">&nbsp;</a>

</div> <!-- End of extra indentation div -->
<?php
/* Connect to DB */
$db = mysql_connect('localhost', 'paulme6_merlyn', '')
or die('Could not connect: ' . mysql_error());
mysql_select_db('paulme6_medtrainers') or die('Could not select database: ' . mysql_error());

for ($i=0; $i<51; $i++)
	{
	/* As you loop through the statesArray, create an associative array (ordered alphabetically by EntityName) of all trainer details for each trainer whose Approved == 1 and MemberLevel == 'Friend' i.e. merits treatment as a Featured Trainer */
	$query = "SELECT * FROM trainers_table WHERE State = '".$statesArray[$i][1]."' AND MemberLevel = 'Friend' AND Approved = 1 ORDER BY EntityName";
	$resultFriends = mysql_query($query) or die('The SELECT * for Friend trainers in a given state failed i.e. '.$query.' failed: ' . mysql_error());
	
	$query = "SELECT COUNT(*) FROM trainers_table WHERE State = '".$statesArray[$i][1]."' AND MemberLevel = 'Friend' AND Approved = 1";
	$result = mysql_query($query) or die('select of count(*) for Friend-level members failed: ' . mysql_error());
	$row = mysql_fetch_row($result);
	$FriendCount = $row[0];

	/* Now create a sister associative array (ordered alphabetically by EntityName) of all trainer details for each trainer whose Approved == 1 and MemberLevel == 'Associate' i.e. trainers that are not to be treated as Featured Trainers */
	$query = "SELECT * FROM trainers_table WHERE State = '".$statesArray[$i][1]."' AND MemberLevel = 'Associate' AND Approved = 1 ORDER BY EntityName";
	$resultAssociates = mysql_query($query) or die('The SELECT * for Associate trainers in a given state failed i.e. '.$query.' failed: ' . mysql_error());
	
	$query = "SELECT COUNT(*) FROM trainers_table WHERE State = '".$statesArray[$i][1]."' AND MemberLevel = 'Associate' AND Approved = 1";
	$result = mysql_query($query) or die('select of count(*) for Associate-level members failed: ' . mysql_error());
	$row = mysql_fetch_row($result);
	$AssociateCount = $row[0];
	
	?>
	<a name="<?php echo $statesArray[$i][1].'-training'; ?>"></a>
	<div id="<?=$statesArray[$i][1]; ?>" style="width: 650px; margin-left: 0px; background: #FFFFFF;"> <!-- For diagnostics, reset background to #FFFFCC. -->
	<h1>Mediation Trainers in <?=$statesArray[$i][0]; ?></h1>
	<div style="width: 600px; margin-left: 50px;"><!-- Use of this "inside" div avoids ugly time delay in presentation of "Mediation Trainers in [State Name]" when a state is clicked in the right sidebar. -->
	<?php
		
	while ($rowFriends = mysql_fetch_assoc($resultFriends))
		{
		if ($FriendCount == 0) break; // Break out of the loop for display of featured trainers if there are none.
		?>
		<div class="dirhead"><?=$rowFriends['EntityName']; ?></div>
		<?php
		$thestring = ''; // Need to reset this to blank in case $row['StreetAddress'] is empty.
		if ($rowFriends['StreetAddress'] != '') $thestring = $rowFriends['StreetAddress'].', ';
		$thestring .= $rowFriends['City'].', '.$statesArray[$i][0].' '.$rowFriends['Zip'].'&nbsp;&nbsp;|&nbsp;&nbsp;tel. '.$rowFriends['Telephone'];
		?>
		<div class="dirlist"><?=$thestring; ?></div>
		<?php
		$thestring = '';
		if ($rowFriends['EntityHomePage'] != '') 
			{
			// Strip off any http:// or https:// if any to be found in $line['EntityHomePage']
			if (strstr($rowFriends['EntityHomePage'], 'http://')) $stripped = str_replace('http://', '', $rowFriends['EntityHomePage']); else $stripped = $rowFriends['EntityHomePage']; 
			if (strstr($rowFriends['EntityHomePage'], 'https://')) $stripped = str_replace('https://', '', $rowFriends['EntityHomePage']);
			$thestring .= '<a target="secondwindow" href="'.$rowFriends['EntityHomePage'].'">'.$stripped.'</a>&nbsp;&nbsp;|&nbsp;&nbsp;';
			}
		$thestring .= '<a target="secondwindow" href="mailto:'.$rowFriends['EntityEmail'].'">'.$rowFriends['EntityEmail'].'</a>';
		?>
		<div class="dirlist"><?=$thestring; ?></div>
		<?php
		// Store all the types of mediation training that this trainer offers in an array.
		$thearray = array(); // Initialize the array
		if ($rowFriends['BasicMed']) array_push($thearray, 'Basic Mediation'); if ($rowFriends['DivorceMed']) array_push($thearray, 'Divorce Mediation'); if ($rowFriends['FamilyMed']) array_push($thearray, 'Family Mediation'); if ($rowFriends['WorkplaceMed']) array_push($thearray, 'Workplace Mediation'); if ($rowFriends['MaritalMed']) array_push($thearray, 'Marital Mediation'); if ($rowFriends['OtherMed']) array_push($thearray, 'Other');
		$thestring = implode(' | ', $thearray); 
		?>
		<div class="dirlist"><span class="smallcaps">Mediation Training: </span><?=$thestring; ?></div>
		<?php
		// Store all TrainerNames for this entity in an associative array (by using index=1 for Trainer1, index=2 for Trainer2, etc.).
		$thearray = array(); // Initialize the array
		if ($rowFriends['TrainerName1'] != '') $thearray[1] = $rowFriends['TrainerName1'];
		if ($rowFriends['TrainerName2'] != '') $thearray[2] = $rowFriends['TrainerName2'];
		if ($rowFriends['TrainerName3'] != '') $thearray[3] = $rowFriends['TrainerName3'];
		if ($rowFriends['TrainerName4'] != '') $thearray[4] = $rowFriends['TrainerName4'];
		if ($rowFriends['TrainerName5'] != '') $thearray[5] = $rowFriends['TrainerName5'];
		if ($rowFriends['TrainerName6'] != '') $thearray[6] = $rowFriends['TrainerName6'];
		if (count($thearray) > 0)
			{
			// Append 'bio' links to each element of $thearray (e.g. $thearray[X] whenever the corresponding $rowFriends['TrainerXBio'] != ''.
			$thebioarray = array();
			$randnum = rand(); // Generate a random integer in order to assign a unique (more than likely, barring a freak coincidence by which the same random number were assigned twice) identifier for the Trio Solutions Link attribute value for the bio links below.
			if ($rowFriends['Trainer1Bio'] != '') $thearray[1] .= ' <a href="#Link'.$randnum.'Context" name="Link'.$randnum.'Context" id="Link'.$randnum.'Context" style="cursor:help" onMouseOver="javascript:createGlossary(\'TSGlossaryPanelID'.$randnum.'\', \'Trainer Bio\', \''.addslashes($rowFriends['Trainer1Bio']).'\', \'Link'.$randnum.'Context\')">[bio]</a>';
			$randnum = rand(); // Generate a random number again.
			if ($rowFriends['Trainer2Bio'] != '') $thearray[2] .= ' <a href="#Link'.$randnum.'Context" name="Link'.$randnum.'Context" id="Link'.$randnum.'Context" style="cursor:help" onMouseOver="javascript:createGlossary(\'TSGlossaryPanelID'.$randnum.'\', \'Trainer Bio\', \''.addslashes($rowFriends['Trainer2Bio']).'\', \'Link'.$randnum.'Context\')">[bio]</a>';
			$randnum = rand(); // Generate a random number again.
			if ($rowFriends['Trainer3Bio'] != '') $thearray[3] .= ' <a href="#Link'.$randnum.'Context" name="Link'.$randnum.'Context" id="Link'.$randnum.'Context" style="cursor:help" onMouseOver="javascript:createGlossary(\'TSGlossaryPanelID'.$randnum.'\', \'Trainer Bio\', \''.addslashes($rowFriends['Trainer3Bio']).'\', \'Link'.$randnum.'Context\')">[bio]</a>';
			$randnum = rand(); // Generate a random number again.
			if ($rowFriends['Trainer4Bio'] != '') $thearray[4] .= ' <a href="#Link'.$randnum.'Context" name="Link'.$randnum.'Context" id="Link'.$randnum.'Context" style="cursor:help" onMouseOver="javascript:createGlossary(\'TSGlossaryPanelID'.$randnum.'\', \'Trainer Bio\', \''.addslashes($rowFriends['Trainer4Bio']).'\', \'Link'.$randnum.'Context\')">[bio]</a>';
			$randnum = rand(); // Generate a random number again.
			if ($rowFriends['Trainer5Bio'] != '') $thearray[5] .= ' <a href="#Link'.$randnum.'Context" name="Link'.$randnum.'Context" id="Link'.$randnum.'Context" style="cursor:help" onMouseOver="javascript:createGlossary(\'TSGlossaryPanelID'.$randnum.'\', \'Trainer Bio\', \''.addslashes($rowFriends['Trainer5Bio']).'\', \'Link'.$randnum.'Context\')">[bio]</a>';
			$randnum = rand(); // Generate a random number again.
			if ($rowFriends['Trainer6Bio'] != '') $thearray[6] .= ' <a href="#Link'.$randnum.'Context" name="Link'.$randnum.'Context" id="Link'.$randnum.'Context" style="cursor:help" onMouseOver="javascript:createGlossary(\'TSGlossaryPanelID'.$randnum.'\', \'Trainer Bio\', \''.addslashes($rowFriends['Trainer6Bio']).'\', \'Link'.$randnum.'Context\')">[bio]</a>';
			$thestring = implode(' | ', $thearray); 
			?>
			<div class="dirlist"><span class="smallcaps">Trainer<?php if (count($thearray) > 1) echo 's:</span>'; else echo ":</span>"; echo ' '.$thestring; ?></div>
			<?php
			}
		$thestring = ''; // Need to reset this to blank in case $row['StreetAddress'] is empty.
		if ($rowFriends['Overview'] != '') 
			{
			$thestring = $rowFriends['Overview'];
		?>
			<div class="dirlist"><span class="smallcaps">Overview: </span><?=$thestring; ?></div>
		<?php
			}
		}

	$OthersTitleAlreadyShown = 0; // Initialize this flag to false.
	while ($rowAssociates = mysql_fetch_assoc($resultAssociates))
		{
		if ($AssociateCount == 0) break; // Break out of the loop for display of non-featured trainers if there are none.
		if ($OthersTitleAlreadyShown == 0 AND $AssociateCount > 0 AND $FriendCount > 0) // Only show the "Other Trainers" subtitle (for non-featured trainers) once, and then only show it if there was at least one featured trainer.
			{
			echo '<h2 style="margin-left: 0px;">Other Trainers</h2>';
			$OthersTitleAlreadyShown = 1; // Set this flag to true to prevent redisplay of the "Other Trainers" subtitle with each iteration through the $rowAssociates loop.
			}
		?>
		<div class="dirlist"><?=$rowAssociates['EntityName']; ?></div>
		<?php
		$thestring = ''; // Need to reset this to blank in case $row['StreetAddress'] is empty.
		if ($rowAssociates['StreetAddress'] != '') $thestring = $rowAssociates['StreetAddress'].', ';
		$thestring .= $rowAssociates['City'].', '.$statesArray[$i][0].' '.$rowAssociates['Zip'].'&nbsp;&nbsp;|&nbsp;&nbsp;tel. '.$rowAssociates['Telephone'];
		?>
		<div class="dirlist"><?=$thestring; ?></div>
		<?php
		$thestring = '';
		if ($rowAssociates['EntityHomePage'] != '')
			{
			$thestring .= '<a target="secondwindow" href="'.$rowAssociates['EntityHomePage'].'">web site</a>&nbsp;&nbsp;|&nbsp;&nbsp;';
			}
		$thestring .= $rowAssociates['EntityEmail'];
		?>
		<div class="dirlist"><?=$thestring; ?></div>
		<?php
		// Store all the types of mediation training that this trainer offers in an array.
		$thearray = array(); // Initialize the array
		if ($rowAssociates['BasicMed']) array_push($thearray, 'Basic Mediation'); if ($rowAssociates['DivorceMed']) array_push($thearray, 'Divorce Mediation'); if ($rowAssociates['FamilyMed']) array_push($thearray, 'Family Mediation'); if ($rowAssociates['WorkplaceMed']) array_push($thearray, 'Workplace Mediation'); if ($rowAssociates['MaritalMed']) array_push($thearray, 'Marital Mediation'); if ($rowAssociates['OtherMed']) array_push($thearray, 'Other');
		$thestring = implode(' | ', $thearray); 
		?>
		<div class="dirlist"><span class="smallcaps">Mediation Training: </span><?=$thestring; ?></div>
		<?php
		// Store all TrainerNames for this entity in an associative array (by using index=1 for Trainer1, index=2 for Trainer2, etc.).
		$thearray = array(); // Initialize the array
		if ($rowAssociates['TrainerName1'] != '') $thearray[1] = $rowAssociates['TrainerName1'];
		if ($rowAssociates['TrainerName2'] != '') $thearray[2] = $rowAssociates['TrainerName2'];
		if ($rowAssociates['TrainerName3'] != '') $thearray[3] = $rowAssociates['TrainerName3'];
		if ($rowAssociates['TrainerName4'] != '') $thearray[4] = $rowAssociates['TrainerName4'];
		if ($rowAssociates['TrainerName5'] != '') $thearray[5] = $rowAssociates['TrainerName5'];
		if ($rowAssociates['TrainerName6'] != '') $thearray[6] = $rowAssociates['TrainerName6'];
		if (count($thearray) > 0)
			{
			$thestring = implode(' | ', $thearray); 
			?>
			<div class="dirlist"><span class="smallcaps">Trainer<?php if (count($thearray) > 1) echo 's:</span>'; else echo ":</span>"; echo ' '.$thestring; ?></div>
			<?php
			}
			?>
		<br /><br />
		<?php
		}
	
	if ($FriendCount == 0 && $AssociateCount == 0) 	
		{
		?>
		<div class="dirlist">No mediation trainers have yet listed in the Registry for <?=$statesArray[$i][0]; ?></div>
		<?php
		}
		?>
	</div>
	</div>
	<?php
	}
	
?>

<!-- AddThis Button BEGIN (via source http://www.addthis.com/?utm_source=hm&utm_medium=img&utm_content=ATLogo_orig&utm_campaign=AT_main) -->
<a style="position: absolute; top: 115px; right: 200px;" class="addthis_button" href="http://www.addthis.com/bookmark.php?v=250&amp;username=xa-4c47ded63015c6b9"><img src="http://s7.addthis.com/static/btn/v2/lg-share-en.gif" width="125" height="16" alt="Bookmark and Share" style="border:0"/></a><script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=xa-4c47ded63015c6b9"></script>
<!-- AddThis Button END -->

</div><!-- End of div to make body text narrower in order to create 150px of space for rightbar. -->

<div id="addme">
<a style="position: relative; bottom: 0; left: 4px;" href="/join.php" onClick="wintasticsecond('/join.php'); return false;"><img src="/images/addmeicon.png" border="0" alt="Join Mediation Training Registry"></a><br />
<a style="position: relative; bottom: 0; left: 0px;" id="smalllink" href="/join.php" onClick="wintasticsecond('/join.php'); return false;">Join<br />the Registry</a>
</div>

<div id="notify">
<a href="/trainingnotify.php" onClick="poptasticDIY('/trainingnotify.php', 320, 700, 250, 250, 300, 300, 'no'); return false;"><img src="/images/notifyicon.png" border="0" alt="Notify of Mediation Trainings"></a><br />
<a style="position: relative; bottom: 33px; left: -2px;" id="smalllink" href="/trainingnotify.php" onClick="poptasticDIY('/trainingnotify.php', 360, 700, 150, 150, 300, 300, 'no'); return false;">Notify Me<br>of Trainings</a>
</div>

<div id="linkto">
<a href="linksnippet.php" onClick="poptasticDIY('/linksnippet.php', 320, 700, 250, 250, 300, 300, 'no'); return false;"><img src="/images/linkicon.png" border="0" alt="Link to National Mediation Training Registry"></a><br />
<a style="position: relative; bottom: 0px; left: 2px;" id="smalllink" href="linksnippet.php" onClick="poptasticDIY('/linksnippet.php', 265, 700, 250, 250, 300, 300, 'no'); return false;">Link to<br />this Site</a>
</div>

<div id="quicksearchbar">

<div  style="display: inline; float: left; position: relative; bottom: 5px;">
<form>
<input type="radio" class="radiobut" name="searchtype" onClick="javascript: window.location.href='/simplesearch.php';" checked>&nbsp;<label class="big">Simple Search</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
<input type="radio" class="radiobut" name="searchtype" onClick="javascript: window.location.href='/powersearch.php';">&nbsp;<label class="big">Power Search</label><br />
</form>
</div>

<div  style="display: inline; float: left;">
<form method="post" action="/scripts/simplesearch_slave.php">
<input type="text" class="textfield" name="TelZipTrainer" id="TelZipTrainer" maxlength="5" size="5" style="width: 50px;">&nbsp;&nbsp;
<input type="hidden" name="LocateTrainers" value="true"><!-- IE falters with passing the value of a submit button. (See http://www.dev-archive.net/articles/forms/multiple-submit-buttons.html and http://www.webdeveloper.com/forum/showthread.php?t=143073). I sidestep the issue by using a hidden field (LocateTrainers) to convey (within simplesearch_slave.php) that this form was submitted. -->
<input type="submit" class="buttonstylebig" value="Find Trainers">
<div class="greytextsmall">Enter area<br />or zip code</div>
</form>
</div>

<div  style="display: inline; float: right;">
<form method="post" action="/scripts/simplesearch_slave.php">
<select class="bigredoutline" name="EventType" id="EventType" size="1" onchange="if (this.selectedIndex == 0) { document.getElementById('TelZipEvent').style.display = 'inline'; document.getElementById('telzipeventinstrns').display = 'inline'; } else { document.getElementById('TelZipEvent').style.display = 'none'; document.getElementById('telzipeventinstrns').style.display = 'none'; document.getElementById('TelZipTrainerSpan').style.display = 'none'; document.getElementById('TelZipEventSpan').style.display = 'none'; }">
<option value="classroom" selected>Classroom</option>
<option value="online">Online</option>
</select>&nbsp;&nbsp;
<input type="text" class="textfield" name="TelZipEvent" id="TelZipEvent" maxlength="5" size="5" style="width: 50px;">&nbsp;&nbsp;
<input type="hidden" name="LocateEvents" value="true"><!-- IE falters with passing the value of a submit button. (See http://www.dev-archive.net/articles/forms/multiple-submit-buttons.html and http://www.webdeveloper.com/forum/showthread.php?t=143073). I sidestep the issue by using a hidden field (LocateEvents) to convey (within simplesearch_slave.php) that this form was submitted. -->
<input type="submit" class="buttonstylebig" value="Find Training Events">
<div class="greytextsmall">Select training type</div>
<div id="telzipeventinstrns" class="greytextsmall" style="display: inline; float: left; clear: both; position: relative; left: 115px; bottom: 19px;">Enter area<br />or zip code</div>
</form>
</div>

<br clear="all" />
<!-- Note that I provide an id for the TelZipEvent span so I can hide them (i.e. set display to 'none') when the EventType drop-down menu gets changed to 'online'. -->
<span style="position: relative; bottom: 12px;" id="TelZipTrainerSpan"><?php if ($_SESSION['MsgTelZipTrainer'] != null) { echo $_SESSION['MsgTelZipTrainer']; $_SESSION['MsgTelZipTrainer']=null; } ?></span>
<span style="position: relative; bottom: 12px; clear: both; float: right;" id="TelZipEventSpan"><?php if ($_SESSION['MsgTelZipEvent'] != null) { echo $_SESSION['MsgTelZipEvent']; $_SESSION['MsgTelZipEvent']=null; } ?></span>

</div> <!-- End of quicksearchbar div -->
<!-- InstanceEndEditable -->

<div id="footer">
<?php
require ("/home/paulme6/public_html/medtrainings/ssi/footer.php");
?>
</div>

</div>
</div>

<div id="topbar"><a href="/index.php"><img src="/images/mediationtraininglogo.jpg" alt="mediation training logo" border="0"></a></div>

<hr id="horzmenuline" color="#9C151C" width="0" noshade />

<!-- Place this tag where you want the +1 button to render (Note: I have two +1 buttons on each page.) -->
<span id="plusone"><g:plusone size="small" count="false" href="<?php
function curPageURL() // Courtesy: http://www.webcheatsheet.com/PHP/get_current_page_url.php
	{
	$pageURL = 'http';
	if ($_SERVER["HTTPS"] == "on") {$pageURL .= "s";}
	$pageURL .= "://";
	if ($_SERVER["SERVER_PORT"] != "80")
		{
		$pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"];
		} 
	else
		{
		$pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"];
		}
	return $pageURL;
	}
echo curPageURL();
?>
"></g:plusone></span>
<!--  Place this tag after the last plusone tag -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<!-- InstanceBeginEditable name="EditRegion4" -->
<div id="rightbar">

<img border="0" width="100" height="137" align="right" alt="Mediation Training" src="/images/MediationTraining.jpg"><br clear="all">
<div id="smallbold" style="text-align: right; margin-bottom: 6px;">Trainers by State</div>

<?php
$statesArray = array(array('Alabama','AL'),	array('Alaska','AK'), array('Arizona','AZ'), array('Arkansas','AR'),	array('California','CA'), array('Colorado','CO'), array('Connecticut','CT'), array('Delaware','DE'), array('District of Columbia','DC'), array('Florida','FL'), array('Georgia','GA'), array('Hawaii','HI'), array('Idaho','ID'), array('Illinois','IL'), array('Indiana','IN'), array('Iowa','IA'), array('Kansas','KS'), array('Kentucky','KY'), array('Louisiana','LA'), array('Maine','ME'), array('Maryland','MD'), array('Massachusetts','MA'), array('Michigan','MI'), array('Minnesota','MN'), array('Mississippi','MS'), array('Missouri','MO'), array('Montana','MT'), array('Nebraska','NE'), array('Nevada','NV'), array('New Hampshire','NH'), array('New Jersey','NJ'), array('New Mexico','NM'), array('New York','NY'), array('North Carolina','NC'), array('North Dakota','ND'), array('Ohio','OH'), array('Oklahoma','OK'), array('Oregon','OR'), array('Pennsylvania','PA'), array('Rhode Island','RI'), array('South Carolina','SC'), array('South Dakota','SD'), array('Tennessee','TN'), array('Texas','TX'), array('Utah','UT'), array('Vermont','VT'), array('Virginia','VA'), array('Washington','WA'), array('West Virginia','WV'), array('Wisconsin','WI'), array('Wyoming','WY'));
$rowflag = 'odd'; // Initialize the row flag to 'odd' for the 1st row (which has five state names). Switch it to 'even' for 2nd, 4th, 6th rows, etc. (which have three state names), then back to 'odd' for 3rd, 5th, 7th, etc. rows.
for ($i=0; $i<51; $i++)
	{
?>
	<div style="text-align: right;"><a id="smalllink" onClick="window.location.hash='<?=$statesArray[$i][1].'-training'; ?>'; return true;" href="javascript:animatedcollapse.toggle('<?=$statesArray[$i][1]; ?>')"><?=$statesArray[$i][0]; ?></a><br /></div>
<?php
	}
?>
</div>

<DIV id="fadeinbox" style="filter:progid:DXImageTransform.Microsoft.RandomDissolve(duration=1) progid:DXImageTransform.Microsoft.Shadow(color=gray,direction=135) ; -moz-opacity:0">
<div align="right"> <a href="#" onClick="hidefadebox();return false"><img src="/images/HideAd.jpg" border="0"></a>
<?php
/* Here I use PHP to randomly select one of potentially several different banner ad URLs and images (contained in arrays $urlArray and $imagesArray respectively) for display via Dynamic Drive's Sticky Note external script. */
$urlArray = array("http://www.newresolutionmediation.com/mediationcareer.php?src=medcarban", "http://www.newresolutionmediation.com/mediationcareer.php?src=medcarban"); // Since I currently only have one site sponsor, I've made all array items the same.
$imagesArray = array("/images/PlatformAd.jpg", "/images/PlatformAd.jpg"); // Since I currently only have one site sponsor, I've made all array items the same.
$randnum = rand(0,1); // Random index selector. Adjust the range upwards for additional array items. Example: use a range of (0,2) when the array has three items i.e. indices 0, 1, and 2.
?>
<a target="_self" href="<?=$urlArray[$randnum]; ?>"><img border="0" src="<?=$imagesArray[$randnum]; ?>"></a><br><!-- Display the banner ad here, using PHP to insert the image file and href destination. -->
</div>
</DIV>

<!-- Horizontal line under Quick Search bar -->
<hr id="horzline" color="#9C151C" width="100%" noshade />
<!-- InstanceEndEditable -->
<!-- Start of StatCounter Code -->
<script type="text/javascript">
var sc_project=5997462; 
var sc_invisible=1; 
var sc_security="a349dfab"; 
</script>
<script type="text/javascript"
src="http://www.statcounter.com/counter/counter.js"></script><noscript><div
class="statcounter"><a href="http://www.statcounter.com/godaddy_website_tonight/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/5997462/0/a349dfab/1/"></a></div></noscript>
<!-- End of StatCounter Code -->
</body>
<!-- InstanceEnd --></html>
